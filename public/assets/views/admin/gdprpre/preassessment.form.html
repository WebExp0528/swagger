<!-- Page Header -->
<section id="page-title" class="padding-top-15 padding-bottom-15">
    <div class="row">
        <div class="col-sm-12">
            <h1 class="mainTitle">{{vm.mainTitle}}</h1>
        </div>
    </div>
</section>
<!-- End: Page Header -->

<div class="container-fluid container-fullw bg-white">
    <div class="row">
        <div class="panel panel-white col-md-6  col-md-offset-3">
            <div class="panel-body">
                <form name="vm.PreAssessmentForm" ng-submit="vm.submitAction()" role="form">
                    <div class="row">
                        <label> User </label>
						<select name="user" ng-model="vm.formdata.user"
								ng-options="u.name as u.name for u in app.Lookup.Users" class="form-control">
						</select>
                    </div>
                    <div class="row">
                        <div class="form-group" ng-class="{ 'has-error' : vm.PreAssessmentForm.categoryName.$invalid && (!vm.PreAssessmentForm.categoryName.$pristine || vm.PreAssessmentForm.categoryName.$touched || vm.PreAssessmentForm.categoryName.$submitted) }">
                            <label> Category Name </label>
                            <select name="categoryName" ng-model="vm.formdata.categoryName" ng-options="c.name as c.name for c in app.Lookup.Categories" class="form-control">
							</select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group" ng-class="{ 'has-error' : vm.PreAssessmentForm.categoryDescription.$invalid && (!vm.PreAssessmentForm.categoryDescription.$pristine || vm.PreAssessmentForm.categoryDescription.$touched || vm.PreAssessmentForm.categoryDescription.$submitted) }">
                            <label> Category Description </label>
                            <select name="categoryDescription" ng-model="vm.formdata.categoryDescription" ng-options="c.name as c.description for c in app.Lookup.Categories" class="form-control">
							</select>
                        </div>
                    </div>
                    <!-- <div class="row">
                        <div class="form-group" ng-class="{ 'has-error' : vm.PreAssessmentForm.categoryDescription.$invalid && (!vm.PreAssessmentForm.categoryDescription.$pristine || vm.PreAssessmentForm.categoryDescription.$touched || vm.PreAssessmentForm.categoryDescription.$submitted) }">
                            <label> Category Description </label>
                            <textarea type="text" name="categoryDescription" ng-model="vm.formdata.categoryDescription" ng-autosize placeholder="Category Description" class="form-control" required></textarea>
                        </div>
                    </div> -->
                    <div class="row">
						<div class="form-group">
							<label> Date </label>
							<datepicker date-format="MM-dd-yyyy">
								<input type="text" name="date" ng-model="vm.formdata.date" placeholder="Date" class="form-control">
							</datepicker>
						</div>
					</div>
					<div class="row">
                        <div class="form-group" ng-class="{ 'has-error' : vm.PreAssessmentForm.finding.$invalid && (!vm.PreAssessmentForm.finding.$pristine || vm.PreAssessmentForm.finding.$touched || vm.PreAssessmentForm.finding.$submitted) }">
                            <label> Finding </label>
                            <textarea type="text" name="finding" ng-model="vm.formdata.finding" ng-autosize placeholder="Finding" class="form-control" required></textarea>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label> Associate Control <a ng-click="vm.addControls()" class="btn btn-link"><i class="fa fa-search"></i></a>  </label>
							<div class="col-xs-12">
								<ul class="multi-select-list-group col-xs-12 padding-left-0">
									<li class="list-item-container row" ng-repeat="con in vm.formdata.controls">
										<div class="list-item col-xs-12 padding-left-0">
											<span class="col-sm-6"> {{con.controlName}} </span>
											<span class="col-sm-6"> {{con.response.name}} </span>
											<span class="col-sm-4">
												<a class="text-right delete" ng-click="removeItem('controls', $index)"> remove </a>
											</span>
										</div>
									</li>
									<li class="no-result padding-left-0" ng-if="!vm.formdata.controls.length"> <i class="fa fa-info-circle"></i> no controls selected</li>
								</ul>
							</div>
						</div>
					</div>
                    <div class="row">
                        <hr class="hrule4"/>
                        <div class="col-xs-12 text-center">
                            <button class="btn btn-squared btn-dark-blue" type="submit"><i class="fa fa-save"></i>Save</button>
                            <a class="btn btn-squared btn-dark-blue" ng-click="vm.cancelAction()"><i class="fa fa-times"></i> Cancel</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>